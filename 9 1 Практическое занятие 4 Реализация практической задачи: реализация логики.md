Отличное практическое задание! Давайте реализуем полноценный учебный проект, который охватит ключевые аспекты технологии разработки ПО согласно МДК.02.01.

## Практическое занятие 4: Система управления задачами (Task Manager)

### Цель занятия
Разработать консольное приложение для управления задачами, демонстрирующее основные этапы разработки ПО.

---

## 1. Постановка задачи

**Требования к системе:**
- Добавление, просмотр, редактирование и удаление задач
- Присвоение статусов задачам (новая, в работе, завершена)
- Назначение приоритетов (низкий, средний, высокий)
- Хранение данных между сеансами работы
- Простой и интуитивно понятный интерфейс

---

## 2. Проектирование архитектуры

### Модель данных
```python
from datetime import datetime
from enum import Enum
import json

class Status(Enum):
    NEW = "новая"
    IN_PROGRESS = "в работе"
    COMPLETED = "завершена"

class Priority(Enum):
    LOW = "низкий"
    MEDIUM = "средний"
    HIGH = "высокий"

class Task:
    def __init__(self, id, title, description, status=Status.NEW, priority=Priority.MEDIUM):
        self.id = id
        self.title = title
        self.description = description
        self.status = status
        self.priority = priority
        self.created_date = datetime.now()
        self.updated_date = datetime.now()
    
    def to_dict(self):
        return {
            'id': self.id,
            'title': self.title,
            'description': self.description,
            'status': self.status.value,
            'priority': self.priority.value,
            'created_date': self.created_date.isoformat(),
            'updated_date': self.updated_date.isoformat()
        }
    
    @classmethod
    def from_dict(cls, data):
        task = cls(
            data['id'],
            data['title'],
            data['description']
        )
        task.status = Status(data['status'])
        task.priority = Priority(data['priority'])
        task.created_date = datetime.fromisoformat(data['created_date'])
        task.updated_date = datetime.fromisoformat(data['updated_date'])
        return task
```

---

## 3. Реализация бизнес-логики

### Менеджер задач
```python
class TaskManager:
    def __init__(self, filename='tasks.json'):
        self.filename = filename
        self.tasks = []
        self.next_id = 1
        self.load_tasks()
    
    def load_tasks(self):
        """Загрузка задач из файла"""
        try:
            with open(self.filename, 'r', encoding='utf-8') as f:
                data = json.load(f)
                self.tasks = [Task.from_dict(task_data) for task_data in data]
                if self.tasks:
                    self.next_id = max(task.id for task in self.tasks) + 1
        except FileNotFoundError:
            self.tasks = []
        except json.JSONDecodeError:
            print("Ошибка чтения файла задач")
            self.tasks = []
    
    def save_tasks(self):
        """Сохранение задач в файл"""
        try:
            with open(self.filename, 'w', encoding='utf-8') as f:
                json.dump([task.to_dict() for task in self.tasks], f, 
                         ensure_ascii=False, indent=2)
        except Exception as e:
            print(f"Ошибка сохранения: {e}")
    
    def add_task(self, title, description, priority=Priority.MEDIUM):
        """Добавление новой задачи"""
        task = Task(self.next_id, title, description, Priority(priority))
        self.tasks.append(task)
        self.next_id += 1
        self.save_tasks()
        return task
    
    def get_task(self, task_id):
        """Получение задачи по ID"""
        for task in self.tasks:
            if task.id == task_id:
                return task
        return None
    
    def update_task(self, task_id, **kwargs):
        """Обновление задачи"""
        task = self.get_task(task_id)
        if task:
            for key, value in kwargs.items():
                if hasattr(task, key):
                    if key == 'status' and value:
                        task.status = Status(value)
                    elif key == 'priority' and value:
                        task.priority = Priority(value)
                    elif value:
                        setattr(task, key, value)
            task.updated_date = datetime.now()
            self.save_tasks()
            return True
        return False
    
    def delete_task(self, task_id):
        """Удаление задачи"""
        task = self.get_task(task_id)
        if task:
            self.tasks.remove(task)
            self.save_tasks()
            return True
        return False
    
    def get_all_tasks(self):
        """Получение всех задач"""
        return self.tasks
    
    def get_tasks_by_status(self, status):
        """Фильтрация задач по статусу"""
        return [task for task in self.tasks if task.status == status]
    
    def get_tasks_by_priority(self, priority):
        """Фильтрация задач по приоритету"""
        return [task for task in self.tasks if task.priority == priority]
```

---

## 4. Пользовательский интерфейс

```python
class TaskManagerUI:
    def __init__(self):
        self.manager = TaskManager()
    
    def display_menu(self):
        """Отображение главного меню"""
        print("\n" + "="*50)
        print("СИСТЕМА УПРАВЛЕНИЯ ЗАДАЧАМИ")
        print("="*50)
        print("1. Просмотреть все задачи")
        print("2. Добавить задачу")
        print("3. Редактировать задачу")
        print("4. Удалить задачу")
        print("5. Фильтровать по статусу")
        print("6. Фильтровать по приоритету")
        print("7. Выход")
        print("-"*50)
    
    def display_tasks(self, tasks=None):
        """Отображение списка задач"""
        if tasks is None:
            tasks = self.manager.get_all_tasks()
        
        if not tasks:
            print("Задачи не найдены")
            return
        
        print(f"\nНайдено задач: {len(tasks)}")
        print("-"*80)
        for task in tasks:
            print(f"ID: {task.id}")
            print(f"Заголовок: {task.title}")
            print(f"Описание: {task.description}")
            print(f"Статус: {task.status.value}")
            print(f"Приоритет: {task.priority.value}")
            print(f"Создана: {task.created_date.strftime('%d.%m.%Y %H:%M')}")
            print(f"Обновлена: {task.updated_date.strftime('%d.%m.%Y %H:%M')}")
            print("-"*80)
    
    def add_task_ui(self):
        """Интерфейс добавления задачи"""
        print("\nДОБАВЛЕНИЕ НОВОЙ ЗАДАЧИ")
        print("-"*30)
        
        title = input("Введите заголовок задачи: ").strip()
        if not title:
            print("Заголовок не может быть пустым!")
            return
        
        description = input("Введите описание задачи: ").strip()
        
        print("\nВыберите приоритет:")
        for i, priority in enumerate(Priority, 1):
            print(f"{i}. {priority.value}")
        
        try:
            choice = int(input("Ваш выбор (1-3): "))
            priority = list(Priority)[choice-1]
        except (ValueError, IndexError):
            priority = Priority.MEDIUM
            print("Используется приоритет по умолчанию: средний")
        
        task = self.manager.add_task(title, description, priority)
        print(f"Задача успешно добавлена! ID: {task.id}")
    
    def edit_task_ui(self):
        """Интерфейс редактирования задачи"""
        print("\nРЕДАКТИРОВАНИЕ ЗАДАЧИ")
        print("-"*25)
        
        try:
            task_id = int(input("Введите ID задачи для редактирования: "))
        except ValueError:
            print("Некорректный ID!")
            return
        
        task = self.manager.get_task(task_id)
        if not task:
            print(f"Задача с ID {task_id} не найдена!")
            return
        
        print(f"\nРедактирование задачи: {task.title}")
        print("Оставьте поле пустым, чтобы не изменять значение")
        
        new_title = input(f"Новый заголовок [{task.title}]: ").strip()
        new_description = input(f"Новое описание [{task.description}]: ").strip()
        
        print("\nНовый статус:")
        for i, status in enumerate(Status, 1):
            print(f"{i}. {status.value}")
        status_choice = input(f"Выбор [текущий: {task.status.value}]: ").strip()
        
        print("\nНовый приоритет:")
        for i, priority in enumerate(Priority, 1):
            print(f"{i}. {priority.value}")
        priority_choice = input(f"Выбор [текущий: {task.priority.value}]: ").strip()
        
        updates = {}
        if new_title:
            updates['title'] = new_title
        if new_description:
            updates['description'] = new_description
        if status_choice:
            try:
                updates['status'] = list(Status)[int(status_choice)-1]
            except (ValueError, IndexError):
                pass
        if priority_choice:
            try:
                updates['priority'] = list(Priority)[int(priority_choice)-1]
            except (ValueError, IndexError):
                pass
        
        if self.manager.update_task(task_id, **updates):
            print("Задача успешно обновлена!")
        else:
            print("Ошибка при обновлении задачи!")
    
    def delete_task_ui(self):
        """Интерфейс удаления задачи"""
        print("\nУДАЛЕНИЕ ЗАДАЧИ")
        print("-"*20)
        
        try:
            task_id = int(input("Введите ID задачи для удаления: "))
        except ValueError:
            print("Некорректный ID!")
            return
        
        task = self.manager.get_task(task_id)
        if task:
            confirm = input(f"Вы уверены, что хотите удалить задачу '{task.title}'? (y/n): ")
            if confirm.lower() == 'y':
                if self.manager.delete_task(task_id):
                    print("Задача успешно удалена!")
                else:
                    print("Ошибка при удалении задачи!")
        else:
            print(f"Задача с ID {task_id} не найдена!")
    
    def filter_by_status_ui(self):
        """Фильтрация по статусу"""
        print("\nФИЛЬТРАЦИЯ ПО СТАТУСУ")
        print("-"*25)
        
        for i, status in enumerate(Status, 1):
            print(f"{i}. {status.value}")
        
        try:
            choice = int(input("Выберите статус: "))
            status = list(Status)[choice-1]
            tasks = self.manager.get_tasks_by_status(status)
            self.display_tasks(tasks)
        except (ValueError, IndexError):
            print("Некорректный выбор!")
    
    def filter_by_priority_ui(self):
        """Фильтрация по приоритету"""
        print("\nФИЛЬТРАЦИЯ ПО ПРИОРИТЕТУ")
        print("-"*25)
        
        for i, priority in enumerate(Priority, 1):
            print(f"{i}. {priority.value}")
        
        try:
            choice = int(input("Выберите приоритет: "))
            priority = list(Priority)[choice-1]
            tasks = self.manager.get_tasks_by_priority(priority)
            self.display_tasks(tasks)
        except (ValueError, IndexError):
            print("Некорректный выбор!")
    
    def run(self):
        """Главный цикл приложения"""
        while True:
            self.display_menu()
            
            try:
                choice = input("Выберите действие (1-7): ").strip()
                
                if choice == '1':
                    self.display_tasks()
                elif choice == '2':
                    self.add_task_ui()
                elif choice == '3':
                    self.edit_task_ui()
                elif choice == '4':
                    self.delete_task_ui()
                elif choice == '5':
                    self.filter_by_status_ui()
                elif choice == '6':
                    self.filter_by_priority_ui()
                elif choice == '7':
                    print("До свидания!")
                    break
                else:
                    print("Некорректный выбор! Попробуйте снова.")
            
            except KeyboardInterrupt:
                print("\n\nПрограмма прервана пользователем")
                break
            except Exception as e:
                print(f"Произошла ошибка: {e}")
```

---

## 5. Запуск приложения

```python
def main():
    """Точка входа в приложение"""
    try:
        app = TaskManagerUI()
        app.run()
    except Exception as e:
        print(f"Критическая ошибка: {e}")

if __name__ == "__main__":
    main()
```

---

## 6. Демонстрация работы

**Пример сеанса работы:**

```
==================================================
СИСТЕМА УПРАВЛЕНИЯ ЗАДАЧАМИ
==================================================
1. Просмотреть все задачи
2. Добавить задачу
3. Редактировать задачу
4. Удалить задачу
5. Фильтровать по статусу
6. Фильтровать по приоритету
7. Выход
--------------------------------------------------
Выберите действие (1-7): 2

ДОБАВЛЕНИЕ НОВОЙ ЗАДАЧИ
------------------------------
Введите заголовок задачи: Изучить Python
Введите описание задачи: Освоить основы языка программирования Python

Выберите приоритет:
1. низкий
2. средний
3. высокий
Ваш выбор (1-3): 2
Задача успешно добавлена! ID: 1
```

---

## 7. Анализ реализованной логики МДК.02.01

### Реализованные этапы разработки ПО:

1. **Анализ требований** - формализованы функциональные требования
2. **Проектирование** - создана архитектура классов и данных
3. **Кодирование** - реализована бизнес-логика и интерфейс
4. **Тестирование** - приложение можно протестировать вручную
5. **Документирование** - код содержит комментарии и документацию

### Принципы, использованные в разработке:

- **Инкапсуляция** - данные и методы объединены в классах
- **Наследование** - можно расширить функциональность
- **Полиморфизм** - использование перечислений (Enum)
- **Сохранение состояния** - работа с файловой системой

Этот проект демонстрирует полный цикл разработки небольшого приложения согласно требованиям МДК.02.01.
